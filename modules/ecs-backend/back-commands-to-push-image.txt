aws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 307946672811.dkr.ecr.us-east-1.amazonaws.com

aws ecr create-repository --repository-name backend-mern --region us-east-1

docker buildx build -t backend-business_logic -f modules/ecs-backend/Dockerfile .
or
docker build -t backend-business_logic -f modules/ecs-backend/Dockerfile .

docker tag backend-business_logic:latest 307946672811.dkr.ecr.us-east-1.amazonaws.com/backend-mern:latest

docker push 307946672811.dkr.ecr.us-east-1.amazonaws.com/backend-mern:latest

aws ecr delete-repository --repository-name backend-mern --region us-east-1 --force



docker build -t backend-image .
docker run -d -p 80:80 --name continer1 backend-image
docker run -p 80:80 --name continer1 backend-business_logic
docker exec -it 883826b20992 /bin/sh
grep -r "MONGO_URI" .

docker run -e MONGO_URI="mongodb://Moamen:moamen146@mydatabase14121414.cluster-cfs0sycugljj.us-east-1.docdb.amazonaws.com:27017/?tls=true&tlsCAFile=global-bundle.pem&replicaSet=rs0&readPreference=secondaryPreferred&retryWrites=false" -p 80:80 --name continer1 backend-business_logic
docker run -e MONGO_URI="$(terraform output -raw business_logic_alb_dns_name)" -d -p 80:80 --name continer1 backend-image
